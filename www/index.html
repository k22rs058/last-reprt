<!DOCTYPE HTML>
<html>
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=no">
    <meta http-equiv="Content-Security-Policy" content="default-src * data: gap: content: https://ssl.gstatic.com; style-src * 'unsafe-inline'; script-src * 'unsafe-inline' 'unsafe-eval'">
    <script src="components/loader.js"></script>
    <link rel="stylesheet" href="components/loader.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="keys.js"></script>
    <script>
        let ncmb = new NCMB(appKey, clientKey);
        // 利用するデータベースを指定（存在しなければ生成）
        const db ="pokemon";
        //let TestClass = ncmb.DataStore("RegisterTest2021");
        // コールバックの登録など
        function fetchAll() { // 登録するレコードを用意
           let TestDataClass = ncmb.DataStore(db);
           TestDataClass.order("Name",false).fetchAll()
              .then(function(results) {
                showResults(results);
               })
        }
        function showResults(results) {
            // テーブルのヘッダを生成
            let msg = "<table><tr><th>Poke'mon</th><th>HP</th><th>Attack</th><th>Defence</th><th>SDefence</th><th>SAttack</th><th>Speed</th></tr>";
            for (let i = 0; i < results.length; i++) {
                msg += "<tr>";
                msg += "<td>" + results[i].Name + "</td>";
                msg += "<td class='num'>" + results[i].HP + "</td>";
                msg += "<td class='num'>" + results[i].Attack + "</td>";
                msg += "<td class='num'>" + results[i].Defence + "</td>";
                msg += "<td class='num'>" + results[i].SDefence + "</td>";
                msg += "<td class='num'>" + results[i].SAttack + "</td>";
                msg += "<td class='num'>" + results[i].Speed + "</td>";
                msg += "</tr>";
                }
                // テーブルのテイラを生成
                msg += "</table>";
                $("#message").html(msg);
        }

    </script>
</head>
<body>
    <h1>In what order <br> Poke'mon <br> No.1 to No.151</h1>
    <div id="button">
        <button onclick ="btnA" class="btn" >Attack</button>
        <button onclick ="btnB" class="btn" >SDefence</button>
        <button onclick ="btnF" class="btn" >Hit point</button>
        <button onclick ="btnD" class="btn" >SAttack</button>
        <button onclick ="btnC" class="btn" >Defence</button>
        <button onclick ="btnE" class="btn" >Speed</button>
        <button onclick ="btnn" class="btn" >Name</button>
        <button class="btn" onclick ="fetchAll()">FetchAll</button>
    </div>
    <div id="message">That poke'mon is‥‥‥</div>

</body>
</html>
